# CLAUDE.md

This file provides guidance to Claude Code (claude.ai/code) when working with code in this repository.

## Commands

### Development Commands
```bash
npm run dev         # Run TypeScript compiler in watch mode
npm start           # Run the compiled application from dist/
npm run build       # Compile TypeScript to JavaScript
npm run clean       # Remove dist/, coverage/, and eslint-report.json
```

### Testing Commands
```bash
npm test                    # Run Jest tests with coverage
npm run test:coverage       # Same as npm test - runs with coverage
# Tests are located in src/__tests__/ and *.test.ts files
# Coverage threshold: 80% for branches, functions, lines, statements
```

### Code Quality Commands  
```bash
npm run lint        # Run ESLint and output JSON report
npm run lint:fix    # Run ESLint with auto-fix enabled
```

## Project Structure

This is a TypeScript project with a comprehensive documentation system:

- **src/** - TypeScript source code
  - Entry point: `src/index.ts`
  - Tests: `src/__tests__/` and `*.test.ts` files
  
- **dist/** - Compiled JavaScript output (generated by build)

- **docs/** - Comprehensive documentation filing system
  - **00-meta/** - Documentation standards, templates, conventions
  - **01-specifications/** - Architecture, API specs, requirements
  - **02-implementation/** - Planning, decisions, security details
  - **03-guides/** - Developer, user, and deployment guides
  - **04-reference/** - API and technical reference
  - **05-quality/** - Testing, security audits, compliance
  - **06-archives/** - Historical documentation

## Configuration Details

### TypeScript Configuration
- Target: ES2020
- Module: CommonJS
- Strict mode enabled
- Source maps and declarations generated
- Root: `./src`, Output: `./dist`

### Jest Testing
- Test environment: Node
- Uses ts-jest preset
- Coverage reporters: text, lcov, html, json
- Test timeout: 10 seconds
- Automatic mock clearing and restoration

### ESLint Rules
- Parser: @typescript-eslint/parser
- Key enforcements:
  - Single quotes preferred
  - Semicolons required
  - 2-space indentation
  - Max line length: 120 characters
  - Trailing spaces not allowed
  - Prefer const over let/var

## CI/CD Workflows

The project includes GitHub Actions workflows in `.github/workflows/`:
- **node.yml** - Main CI pipeline for build and test
- **eslint.yml** - Code quality checks
- **codeql.yml** - Security analysis
- **dependency-review.yml** - Dependency vulnerability scanning

## Documentation System

The project uses a numbered hierarchy documentation system with:
- Consistent naming conventions (DESIGN-*, TEMPLATE-*, etc.)
- README.md in every directory explaining contents
- Templates for design specs, ADRs, guides, and release notes
- Self-documenting structure for easy navigation

Key documentation principles:
- Clarity First
- Consistency  
- Completeness
- Currency (synchronized with implementation)
- Progressive Disclosure

## Development Notes

- The project is primarily a documentation system (DevDocAI v3.6.0)
- Minimal source code currently exists (just version export)
- Focus is on maintaining comprehensive technical documentation
- All documentation follows established templates and conventions in `docs/00-meta/templates/`